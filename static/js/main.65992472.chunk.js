(this["webpackJsonpmoodtracker-front"]=this["webpackJsonpmoodtracker-front"]||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/Angry.c094ca91.svg"},101:function(e,t,a){e.exports=a.p+"static/media/Fear.d7c09086.svg"},102:function(e,t,a){e.exports=a.p+"static/media/Happy.b1e5e777.svg"},103:function(e,t,a){e.exports=a.p+"static/media/Neutral.6fa11d01.svg"},104:function(e,t,a){e.exports=a.p+"static/media/Sad.b6957d1c.svg"},133:function(e,t,a){e.exports=a(169)},138:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Angry",(function(){return we.a})),a.d(n,"Fear",(function(){return xe.a})),a.d(n,"Happy",(function(){return Se.a})),a.d(n,"Neutral",(function(){return Le.a})),a.d(n,"Sad",(function(){return Pe.a}));var r=a(0),c=a.n(r),i=a(11),o=a.n(i),l=(a(138),a(30)),s=a(46),u=a(16),m=a(22),d=a.n(m),f=a(40),p=a(19),g=Object(p.b)({name:"ui",initialState:{isLoading:!1},reducers:{loadingUi:function(e){e.isLoading=!0},stopLoadingUi:function(e){e.isLoading=!1}}}),h=g.actions,E=h.loadingUi,b=h.stopLoadingUi,y=g.reducer,v={entries:[],currentEntry:{},selectedMonth:new Date},N=Object(p.b)({name:"entries",initialState:v,reducers:{addNewEntry:function(e,t){e.entries.push(t.payload),e.currentEntry=t.payload},fetchedAllEntries:function(e,t){e.entries=t.payload},emptyEntries:function(e){return v},selectCurrentEntry:function(e,t){e.currentEntry=t.payload},deleteCurrentEntryFromStore:function(e){e.entries=e.entries.filter((function(t){return t.entryId!==e.currentEntry.entryId}))},selectMonth:function(e,t){e.selectedMonth=t.payload}}}),O=N.actions,j=O.addNewEntry,w=O.fetchedAllEntries,k=O.emptyEntries,x=O.selectCurrentEntry,C=(O.updateEntry,O.deleteCurrentEntryFromStore),S=O.selectMonth,F=N.reducer,L=a(21),I=a.n(L),P=a(74),M=a(107),A=a(81),D=a(108),T=a.n(D),W=a(13),U={isLogged:!1,token:null},z=Object(p.b)({name:"auth",initialState:U,reducers:{login:function(e,t){e.isLogged=!0,e.token=t.payload},logout:function(e){return U}}}),B=z.actions,_=B.login,H=B.logout,J=z.reducer,V=Object(p.b)({name:"feelings",initialState:{primaryFeelings:[]},reducers:{fetchedPrimaryFeelings:function(e,t){e.primaryFeelings=t.payload}}}),K=V.actions.fetchedPrimaryFeelings,Y=V.reducer,$=Object(W.c)({auth:J,ui:y,entries:F,feelings:Y}),q=a(109),G=a.n(q),Q=Object(p.b)({name:"user",initialState:{firstName:"",lastName:""},reducers:{fetchedUserInfo:function(e,t){t.payload}}}),R=(Q.actions.fetchedUserInfo,Q.reducer,function(){return function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E()),e.prev=1,e.next=4,I.a.get("/feelings/primary").then((function(e){return e.data}));case 4:a=e.sent,t(K(a)),t(b()),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),t(b()),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}),X=function(){return function(e){e(k()),e(H()),delete I.a.defaults.headers.Authorization}},Z={key:"root",storage:T.a},ee=Object(A.a)(Z,$),te=[].concat(Object(P.a)(Object(p.c)({serializableCheck:!1})),[M.logger]),ae=Object(p.a)({reducer:ee,middleware:te}),ne=Object(A.b)(ae,null,(function(){var e=ae.getState().auth.token;e&&(1e3*G()(e).exp<Date.now()?ae.dispatch(X()):(I.a.defaults.headers.Authorization=e,ae.dispatch(ce()),ae.dispatch(R())))})),re=ae,ce=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E()),e.prev=1,e.next=4,I.a.get("/entries").then((function(e){return e.data}));case 4:a=e.sent,t(w(a)),t(b()),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),t(b()),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},ie=a(14),oe=a(17),le=a.n(oe),se=a(195),ue=a(200),me=a(170),de=a(209),fe=a(201),pe=a(111),ge=a.n(pe),he=a(199),Ee=a(110),be=a.n(Ee),ye=a(68),ve=a.n(ye),Ne=a(72),Oe=a.n(Ne),je=a(100),we=a.n(je),ke=a(101),xe=a.n(ke),Ce=a(102),Se=a.n(Ce),Fe=a(103),Le=a.n(Fe),Ie=a(104),Pe=a.n(Ie),Me=Object(ie.b)((function(e){return{isLoading:e.ui.isLoading,primaryFeelings:e.feelings.primaryFeelings,currentEntry:e.entries.currentEntry,entries:e.entries.entries}}),{postNewEntry:function(e,t){return function(){var a=Object(f.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(E()),a.prev=1,a.next=4,I.a.post("/entry",e).then((function(e){return e.data}));case 4:r=re.getState().feelings.primaryFeelings.find((function(t){return t.feelingId===e.feelingId})),e.feeling=r,t&&n(C()),n(j(e)),n(b()),a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(1),n(b()),a.abrupt("return",Promise.reject(a.t0));case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},selectCurrentEntry:x})((function(e){var t=e.isLoading,a=e.postNewEntry,i=e.primaryFeelings,o=e.entries,l=e.selectCurrentEntry,s=e.currentEntry,m=Object(r.useState)(le()()),d=Object(u.a)(m,2),f=d[0],p=d[1],g=Object(r.useState)({feelingId:"",entryDate:""}),h=Object(u.a)(g,2),E=h[0],b=h[1],y=Object(r.useState)(!0),v=Object(u.a)(y,2),N=v[0],O=v[1],j=Object(r.useState)(!1),w=Object(u.a)(j,2),k=w[0],x=w[1],C=Object(r.useState)(!0),S=Object(u.a)(C,2),F=S[0],L=S[1],I={angry:"#FF595E",neutral:"#8AC926",happy:"#FFCA3A",sad:"#1982C4",fear:"#6A4C93"},P=function(e){document.getElementsByTagName("html")[0].style.backgroundColor=e},M=Object(r.useCallback)((function(){var e=f.toISOString().split("T")[0],t=o.find((function(t){return t.entryDate.split("T")[0]===e}));O(!t),l(t),x(!1),t&&P(I[t.feeling.feelingName.toLowerCase()])}),[o,l,f]);Object(r.useEffect)((function(){return M(),function(){P("#fff")}}),[f,M]);var A=function(e){p(e),L(e.isSame(le()(),"day"))},D=function(e){var t=e.currentTarget;E.feelingId=t.value,E.entryDate=f.toISOString(),a(E,k),b({feelingId:"",entryDate:""})};return c.a.createElement(se.a,{maxWidth:"sm",className:"mui-container"},c.a.createElement("div",{className:"homepage--header"},c.a.createElement(me.a,{variant:"body1",align:"center"},F?"How are you feeling today?":"How were you feeling?"),c.a.createElement("div",{className:"monthPicker"},c.a.createElement(he.a,{onClick:function(){return A(le()(f).subtract(1,"day"))}},c.a.createElement(ve.a,null)),c.a.createElement(de.a,{showTodayButton:!0,autoOk:!0,margin:"normal",id:"date-picker-dialog",format:"MM/DD/yyyy",disableFuture:!0,value:f,onChange:A,KeyboardButtonProps:{"aria-label":"change mood date"}}),c.a.createElement(he.a,{disabled:F,onClick:function(){return A(le()(f).add(1,"days"))}},c.a.createElement(Oe.a,null)))),c.a.createElement("div",{className:"moods-button-container"},t?c.a.createElement(fe.a,null):c.a.createElement("div",null,N||k?i?i.map((function(e){return c.a.createElement("div",{className:"mood-container"},c.a.createElement("img",{src:n[e.feelingName],alt:e.feelingName,className:"mood-container__icon moods--".concat(e.feelingName)}),c.a.createElement(ue.a,{onClick:D,key:e.feelingId,value:e.feelingId,variant:"contained",color:"primary"},e.feelingName))})):c.a.createElement(fe.a,null):c.a.createElement("div",{className:"display-mood mood--".concat(s.feeling.feelingName)},c.a.createElement("img",{src:n[s.feeling.feelingName],alt:s.feeling.feelingName,className:"display-mood__icon moods--darkgrey"}),c.a.createElement(me.a,null,s.feeling.feelingName)))),c.a.createElement("div",{className:"homepage--footer"},!N&&c.a.createElement(he.a,{onClick:function(){x(!k),P("#fff"),P(k?I[s.feeling.feelingName.toLowerCase()]:"#fff")}},k?c.a.createElement(be.a,null):c.a.createElement(ge.a,null))))})),Ae=a(53),De=a(32),Te=a(208),We=a(204),Ue=a(73),ze=a.n(Ue),Be=a(203),_e=a(60),He=a.n(_e),Je=Object(ie.b)((function(e){return{isLoading:e.ui.isLoading}}),{loginUser:function(e,t){return function(){var a=Object(f.a)(d.a.mark((function a(n){var r,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(E()),a.prev=1,a.next=4,I.a.post("/login",e).then((function(e){return e.data}));case 4:r=a.sent,c="Bearer ".concat(r.token),I.a.defaults.headers.Authorization=c,n(_(c)),n(ce()),n(R()),t.push("/"),a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(1),n(b()),a.abrupt("return",Promise.reject(a.t0));case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.history,a=e.loginUser,n=e.isLoading,i=Object(r.useState)({email:"",password:""}),o=Object(u.a)(i,2),s=o[0],m=o[1],p=Object(r.useState)({}),g=Object(u.a)(p,2),h=g[0],E=g[1],b=function(e){var t=e.currentTarget,a=t.name,n=t.value;m(Object(De.a)(Object(De.a)({},s),{},Object(Ae.a)({},a,n)))},y=function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,a(s,t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),E(e.t0.response.data);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(We.a,{container:!0,maxWidth:"sm"},c.a.createElement("div",{className:"formContainer"},c.a.createElement("img",{src:Se.a}),c.a.createElement(me.a,{variant:"h4",component:"h1"},"Welcome back!"),c.a.createElement("form",{className:"form",onSubmit:y,noValidate:!0},c.a.createElement(Te.a,{id:"email",name:"email",label:"Email",type:"email",onChange:b,value:s.email,fullWidth:!0,className:"textField",helperText:h.email,error:!!h.email,InputProps:{startAdornment:c.a.createElement(Be.a,{position:"start"},c.a.createElement(ze.a,null))}}),c.a.createElement(Te.a,{id:"password",name:"password",label:"Password",type:"password",onChange:b,value:s.password,fullWidth:!0,className:"textField",helperText:h.password,error:!!h.password,InputProps:{startAdornment:c.a.createElement(Be.a,{position:"start"},c.a.createElement(He.a,null))}}),h.general&&c.a.createElement(me.a,{variant:"body2",className:"customError"},h.general),c.a.createElement(ue.a,{type:"submit",variant:"contained",color:"primary",className:"button",disabled:n},"Login",n&&c.a.createElement(fe.a,{size:30,className:"progress"}))),c.a.createElement(ue.a,{className:"button",component:l.b,to:"/signup",variant:"text"},"Don't have an account ? Sign up here")))})),Ve=a(116),Ke=a.n(Ve),Ye=a(113),$e=a.n(Ye),qe=a(202),Ge=a(206),Qe=a(205),Re=a(115),Xe=a.n(Re),Ze=a(114),et=a.n(Ze),tt=Object(ie.b)((function(e){return{isLogged:e.auth.isLogged,hasCurrentEntry:e.entries.currentEntry}}),{logoutUser:X})((function(e){var t=e.isLogged,a=e.logoutUser,n=e.hasCurrentEntry,r=Object(s.g)({path:"/",exact:!0});return t&&c.a.createElement(Qe.a,{position:"fixed",className:"navbar",color:"default"},c.a.createElement(qe.a,{className:"toolbar"},c.a.createElement(he.a,{edge:"start",component:l.b,to:"/statistics"},c.a.createElement($e.a,null)),c.a.createElement(Ge.a,{"aria-label":"add",color:"primary",style:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"},component:l.b,to:"/"},r&&n?c.a.createElement(et.a,{style:{color:"white"}}):c.a.createElement(Xe.a,{style:{color:"white"}})),c.a.createElement(he.a,{edge:"center",onClick:function(){return a()}},c.a.createElement(Ke.a,null))))})),at=a(117),nt=a.n(at),rt=Object(ie.b)((function(e){return{isLoading:e.ui.isLoading}}),null)((function(e){var t=e.history,a=e.isLoading,n=e.dispatch,i=Object(r.useState)({}),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(r.useState)({email:"",password:"",confirmPassword:"",firstName:""}),f=Object(u.a)(d,2),p=f[0],g=f[1],h=function(e){var t=e.currentTarget,a=t.name,n=t.value;g(Object(De.a)(Object(De.a)({},p),{},Object(Ae.a)({},a,n)))};return c.a.createElement(We.a,{container:!0,maxWidth:"sm"},c.a.createElement("div",{className:"formContainer"},c.a.createElement("img",{src:Se.a}),c.a.createElement(me.a,{variant:"h4",component:"h1"},"Welcome! Sign up here"),c.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),n(E()),I.a.post("/signup",p).then((function(e){n(b()),t.push("/login")})).catch((function(e){g(Object(De.a)(Object(De.a)({},p),{},{password:"",confirmPassword:""})),m(e.response.data),n(b())}))},noValidate:!0},c.a.createElement(Te.a,{id:"email",name:"email",label:"Email",type:"email",onChange:h,value:p.email,fullWidth:!0,className:"textField",helperText:s.email,error:!!s.email,InputProps:{startAdornment:c.a.createElement(Be.a,{position:"start"},c.a.createElement(ze.a,null))}}),c.a.createElement(Te.a,{id:"firstName",name:"firstName",label:"First name",type:"text",onChange:h,value:p.firstName,fullWidth:!0,className:"textField",helperText:s.firstName,error:!!s.firstName,InputProps:{startAdornment:c.a.createElement(Be.a,{position:"start"},c.a.createElement(nt.a,null))}}),c.a.createElement(Te.a,{id:"password",name:"password",label:"Password",type:"password",onChange:h,value:p.password,fullWidth:!0,className:"textField",helperText:s.password,error:!!s.password,InputProps:{startAdornment:c.a.createElement(Be.a,{position:"start"},c.a.createElement(He.a,null))}}),c.a.createElement(Te.a,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",onChange:h,value:p.confirmPassword,fullWidth:!0,className:"textField",helperText:s.confirmPassword,error:!!s.confirmPassword,InputProps:{startAdornment:c.a.createElement(Be.a,{position:"start"},c.a.createElement(He.a,null))}}),s.general&&c.a.createElement(me.a,{variant:"body2",className:"customError"},s.general),c.a.createElement(ue.a,{type:"submit",variant:"contained",color:"primary",className:"button",disabled:a},"Signup",a&&c.a.createElement(fe.a,{size:30,className:"progress"}))),c.a.createElement(ue.a,{className:"button",component:l.b,to:"/login",variant:"text"},"Already have an account ? Log in here")))})),ct=Object(ie.b)((function(e){return{isLogged:e.auth.isLogged}}))((function(e){var t=e.isLogged,a=e.path,n=e.component;return t?c.a.createElement(s.b,{path:a,component:n}):c.a.createElement(s.a,{to:"/login"})})),it=Object(ie.b)((function(e){return{isLogged:e.auth.isLogged}}))((function(e){var t=e.isLogged,a=e.path,n=e.component;return t?c.a.createElement(s.a,{to:"/"}):c.a.createElement(s.b,{path:a,component:n})})),ot=a(118),lt=a(31),st=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth())},ut=Object(lt.a)([function(e){return e.entries.entries},function(e){return st(e.entries.selectedMonth)}],(function(e,t){return e.filter((function(e){return st(e.entryDate)===t}))})),mt=(a(168),function(e){var t=e.selectedMonth,a=e.entries,i=Object(r.useState)(new Date(t)),o=Object(u.a)(i,2),l=o[0],s=o[1];Object(r.useEffect)((function(){s(t)}),[t]);for(var m=function(e){var t=new Date(l);return t.setDate(e),t=t.toISOString().split("T")[0],a.find((function(e){return e.entryDate.split("T")[0]===t}))},d=le.a.weekdaysShort().map((function(e){return c.a.createElement("th",{key:e,className:"week-day"},e)})),f=[],p=0;p<le()(l).startOf("month").format("d");p++)f.push(c.a.createElement("td",{key:"empty-".concat(p),className:"calendar-day empty"},""));for(var g=[],h=1;h<=le()(l).daysInMonth();h++){var E=m(h);g.push(c.a.createElement("td",{key:h,className:"calendar-day"},E?c.a.createElement("img",{src:n[E.feeling.feelingName],alt:E.feeling.feelingName,className:"calendar-mood moods--".concat(E.feeling.feelingName)}):h))}var b=[].concat(f,Object(P.a)(g)),y=[],v=[];return b.forEach((function(e,t){t%7!==0?v.push(e):(y.push(v),(v=[]).push(e)),t===b.length-1&&y.push(v)})),g=y.map((function(e,t){return c.a.createElement("tr",{key:t},e)})),c.a.createElement("div",{className:"card"},c.a.createElement("table",{className:"calendar"},c.a.createElement("thead",null,c.a.createElement("tr",null,d)),c.a.createElement("tbody",null,g)))}),dt=function(e){var t=e.primaryFeelings,a=e.entries,i=Object(r.useState)([]),o=Object(u.a)(i,2),l=o[0],s=o[1],m=Object(r.useCallback)((function(e){var a=[];t.forEach((function(t){var n=e.filter((function(e){return e.feeling.feelingId===t.feelingId}));a.push(Object(De.a)(Object(De.a)({},t),{},{entriesCount:n.length}))})),s(a)}),[t]);return Object(r.useEffect)((function(){m(a)}),[m,a]),c.a.createElement("div",{className:"card feelings-list"},l.map((function(e){return c.a.createElement("div",{className:"feelings-list__element",key:e.feelingId},c.a.createElement("img",{src:n[e.feelingName],alt:e.feelingName,className:"list-mood moods--".concat(e.feelingName)}),c.a.createElement("span",null,e.entriesCount),c.a.createElement("span",null,Math.round(e.entriesCount/a.length*100),"%"))})))},ft=Object(ie.b)((function(e){return{selectedMonth:e.entries.selectedMonth,entries:ut(e),primaryFeelings:e.feelings.primaryFeelings}}),{selectMonthForStatistics:function(e){return function(t){return t(S(e))}}})((function(e){var t=e.selectMonthForStatistics,a=e.selectedMonth,n=e.entries,r=e.primaryFeelings,i=function(e){return t(e)};return c.a.createElement(se.a,{maxWidth:"sm",className:"statspage"},c.a.createElement("div",{className:"monthPicker"},c.a.createElement(he.a,{onClick:function(){return i(le()(a).subtract(1,"month"))}},c.a.createElement(ve.a,null)),c.a.createElement(de.a,{autoOk:!0,views:["month"],value:a,onChange:i,disableFuture:!0,format:"MMMM"}),c.a.createElement(de.a,{autoOk:!0,variant:"inline",views:["year"],value:a,onChange:i,disableFuture:!0}),c.a.createElement(he.a,{disabled:le()(a).isSame(le()(),"month"),onClick:function(){return i(le()(a).add(1,"month"))}},c.a.createElement(Oe.a,null))),c.a.createElement("div",{className:"statspage--values"},c.a.createElement(mt,{selectedMonth:new Date(a),entries:n}),c.a.createElement(dt,{primaryFeelings:r,entries:n})))})),pt=a(119),gt=a(15),ht=a(120),Et=a(207),bt=Object(ht.a)({palette:{primary:{main:"#0096c7"}}}),yt=function(){return c.a.createElement(ie.a,{store:re},c.a.createElement(Et.a,{theme:bt},c.a.createElement(ot.a,{loading:null,persistor:ne},c.a.createElement(gt.a,{utils:pt.a},c.a.createElement("div",{className:"App"},c.a.createElement(l.a,null,c.a.createElement("div",{className:"container"},c.a.createElement(s.d,null,c.a.createElement(ct,{exact:!0,path:"/",component:Me}),c.a.createElement(it,{exact:!0,path:"/login",component:Je}),c.a.createElement(it,{exact:!0,path:"/signup",component:rt}),c.a.createElement(ct,{exact:!0,path:"/statistics",component:ft}))),c.a.createElement(tt,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.65992472.chunk.js.map